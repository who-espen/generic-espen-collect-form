<?xml version="1.0"?>
<h:html xmlns="http://www.w3.org/2002/xforms" 
  xmlns:ev="http://www.w3.org/2001/xml-events" 
  xmlns:h="http://www.w3.org/1999/xhtml" 
  xmlns:jr="http://openrosa.org/javarosa" 
  xmlns:orx="http://openrosa.org/xforms" 
  xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <h:head>
    <h:title>1 - Location survey Form / LF : CountryName</h:title>
    <model>
      <instance>
        <data id="sd-f1-lflocation" version="3">
          <c_recorder_id/>
          <c_region/>
          <c_district/>
          <c_village_id/>
          <c_total_population/>
          <c_gps/>
          <c_deworming_last_year/>
          <c_deworming_place/>
          <c_ivm_last_year/>
          <c_bednet_last_year/>
          <c_bednet_receiver/>
          <c_is_cdti/>
          <know_eye_worm/>
          <eye_worm_name/>
          <c_remarks/>
          <c_StartTime/>
          <c_EndTime/>
          <meta>
            <instanceID/>
          </meta>
        </data>
      </instance>


      <instance id="YesNo">
        <root>
          <item>
            <itextId>static_instance-YesNo-0</itextId>
            <name>Yes</name>
          </item>
          <item>
            <itextId>static_instance-YesNo-1</itextId>
            <name>No</name>
          </item>
        </root>
      </instance>

      <instance id="region">
        <root>
          <item>
            <itextId>static_instance-region-0</itextId>
            <name>Region 1</name>
          </item>
          <item>
            <itextId>static_instance-region-1</itextId>
            <name>region 2</name>
          </item>
        </root>
      </instance>

      <instance id="Bednets_receivers">
        <root>
          <item>
            <itextId>static_instance-Bednets_receivers-0</itextId>
            <name>1_Pregnant_women_and_preschool_children_only</name>
          </item>
          <item>
            <itextId>static_instance-Bednets_receivers-1</itextId>
            <name>2_Entire_community</name>
          </item>
          <item>
            <itextId>static_instance-Bednets_receivers-2</itextId>
            <name>3_Other</name>
          </item>
        </root>
      </instance>
      <instance id="SchoolCommunity">
        <root>
          <item>
            <itextId>static_instance-SchoolCommunity-0</itextId>
            <name>1_School_only</name>
          </item>
          <item>
            <itextId>static_instance-SchoolCommunity-1</itextId>
            <name>2_Entire_community</name>
          </item>
        </root>
      </instance>
      <instance id="YesNoDoNotKnow">
        <root>
          <item>
            <itextId>static_instance-YesNoDoNotKnow-0</itextId>
            <name>Yes</name>
          </item>
          <item>
            <itextId>static_instance-YesNoDoNotKnow-1</itextId>
            <name>No</name>
          </item>
          <item>
            <itextId>static_instance-YesNoDoNotKnow-2</itextId>
            <name>Do_not_know</name>
          </item>
        </root>
      </instance>
      <instance id="districts">
        <root>
          <item>
            <itextId>static_instance-districts-0</itextId>
            <c_region>Region 1</c_region>
            <name>District 1; ID District 1</name>
          </item>
          <item>
            <itextId>static_instance-districts-1</itextId>
            <c_region>Region 2</c_region>
            <name>District 2; ID District 2</name>
          </item>
          <item>
            <itextId>static_instance-districts-2</itextId>
            <c_region>Region 3</c_region>
            <name>District 3; ID District 3</name>
          </item>
          <item>
            <itextId>static_instance-districts-3</itextId>
            <c_region>Region 4</c_region>
            <name>District 4; ID District 4</name>
          </item>
        </root>
      </instance>

      <itext>
        <translation lang="English">        
          <text id="/data/c_recorder_id:label">
            <value>Recorder ID</value>
          </text>
          <!-- Region -->
          <text id="static_instance-region-0">
            <value>Region 1</value>
          </text>
          <text id="static_instance-region-1">
            <value>Region 2</value>
          </text>          
          <text id="/data/c_region/Region_1:label">
            <value>Region 1</value>
          </text>          
          <text id="/data/c_region/Region_2:label">
            <value>Region 2</value>
          </text>          
          <text id="/data/c_region:label">
            <value>Select a state</value>
          </text>

          <!-- Districts -->
          <text id="static_instance-districts-0">
            <value>District 1</value>
          </text>
          <text id="static_instance-districts-1">
            <value>District 2</value>
          </text>
          <text id="static_instance-districts-2">
            <value>District 3</value>
          </text>
          <text id="static_instance-districts-3">
            <value>District 4</value>
          </text>
          <text id="/data/c_district/District_1:label">
            <value>District 1</value>
          </text>
          <text id="/data/c_district/District_2:label">
            <value>District 2</value>
          </text>
          <text id="/data/c_district/District_3:label">
            <value>District 3</value>
          </text>
          <text id="/data/c_district/District_4:label">
            <value>District 4</value>
          </text>
          <text id="/data/c_district:label">
            <value>Select a district</value>
          </text>
          <text id="/data/c_village_id:label">
            <value>Enter the village code</value>
          </text>
          <text id="/data/c_total_population:label">
            <value>Enter total population</value>
          </text>
          <text id="/data/c_gps:label">
            <value>Collect GPS Coordinates</value>
          </text>

          
          <text id="/data/c_deworming_last_year/Yes:label">
            <value>1 Yes</value>
          </text>
          <text id="/data/c_deworming_last_year/No:label">
            <value>2 No</value>
          </text>
          <text id="/data/c_deworming_last_year/Do_not_know:label">
            <value>3 Do not know</value>
          </text>
          <text id="/data/c_deworming_last_year:label">
            <value>Has this community received deworming treatment (Albendazole/Mebendazole) in the last year?</value>
          </text>

          <text id="/data/c_deworming_place/1_School_only:label">
            <value>1 School only</value>
          </text>
          <text id="/data/c_deworming_place/2_Entire_community:label">
            <value>2 Entire community</value>
          </text>
          <text id="/data/c_deworming_place:label">
            <value>Where was the treatment given?</value>
          </text>

          <text id="/data/c_ivm_last_year/Yes:label">
            <value>1 Yes</value>
          </text>
          <text id="/data/c_ivm_last_year/No:label">
            <value>2 No</value>
          </text>
          <text id="/data/c_ivm_last_year/Do_not_know:label">
            <value>3 Do not know</value>
          </text>
          <text id="/data/c_ivm_last_year:label">
            <value>Has this community received Ivermectin for Oncho in the last year?</value>
          </text>
          
          <text id="/data/c_bednet_last_year/No:label">
            <value>2 No</value>
          </text>
          <text id="/data/c_bednet_last_year/Yes:label">
            <value>1 Yes</value>
          </text>
          <text id="/data/c_bednet_last_year/Do_not_know:label">
            <value>3 Do not know</value>
          </text>
          <text id="/data/c_bednet_last_year:label">
            <value>Has this community received free bednets in the last year?</value>
          </text>
          
          <text id="/data/c_bednet_receiver/2_Entire_community:label">
            <value>2 Entire community</value>
          </text>
          <text id="/data/c_bednet_receiver/3_Other:label">
            <value>3 Other</value>
          </text>
          <text id="/data/c_bednet_receiver:label">
            <value>Who received free bednets?</value>
          </text>
          <text id="/data/c_bednet_receiver/1_Pregnant_women_and_preschool_children_only:label">
            <value>1 Pregnant women and preschool children only</value>
          </text>
          <text id="static_instance-Bednets_receivers-1">
            <value>2 Entire community</value>
          </text>
          <text id="static_instance-Bednets_receivers-0">
            <value>1 Pregnant women and preschool children only</value>
          </text>
          <text id="static_instance-Bednets_receivers-2">
            <value>3 Other</value>
          </text>
          
          <text id="/data/c_is_cdti/Yes:label">
            <value>1 Yes</value>
          </text>
          <text id="/data/c_is_cdti/No:label">
            <value>2 No</value>
          </text>
          <text id="/data/c_is_cdti:label">
            <value>Is this a CDTI village?</value>
          </text>

          <text id="/data/know_eye_worm/No:label">
            <value>2 No</value>
          </text>
          <text id="/data/know_eye_worm/Yes:label">
            <value>1 Yes</value>
          </text>
          <text id="/data/know_eye_worm:label">
            <value>Do you know anybody in this location who has reported that worms sometime move along the white of the lower part of their eye?</value>
          </text>
          
          <text id="/data/eye_worm_name:label">
            <value>What is the local name of this condition?</value>
          </text>
          
          <text id="/data/c_remarks:label">
            <value>Remarks</value>
          </text>

          <text id="static_instance-SchoolCommunity-0">
            <value>1 School only</value>
          </text>
          <text id="static_instance-SchoolCommunity-1">
            <value>2 Entire community</value>
          </text>
          <text id="static_instance-YesNoDoNotKnow-2">
            <value>3 Do not know</value>
          </text>
          <text id="static_instance-YesNo-1">
            <value>2 No</value>
          </text>
          <text id="static_instance-YesNo-0">
            <value>1 Yes</value>
          </text>
          <text id="/data/c_region/Unity:label">
            <value>Unity</value>
          </text>
          <text id="static_instance-YesNoDoNotKnow-1">
            <value>2 No</value>
          </text>
          <text id="static_instance-YesNoDoNotKnow-0">
            <value>1 Yes</value>
          </text>
        </translation>
      </itext>

      <bind constraint="regex(.,'^[0-9]{2}$')" jr:constraintMsg="Invalid. Recorder ID code is 2 numbers long." jr:requiredMsg="you must enter the recorder ID" nodeset="/data/c_recorder_id" required="true()" type="int"/>
      <bind jr:requiredMsg="You must select a state" nodeset="/data/c_region" required="true()" type="select1"/>
      <bind jr:requiredMsg="You mut select a district" nodeset="/data/c_district" required="true()" type="select1"/>
      <bind constraint="regex(.,'^[0-9]{3}$')" jr:constraintMsg="Invalid. Recorder ID code is 3 numbers long." jr:requiredMsg="You must select enter the village codde" nodeset="/data/c_village_id" required="true()" type="int"/>
      <bind jr:requiredMsg="You must enter the total population" nodeset="/data/c_total_population" required="true()" type="int"/>
      <bind jr:requiredMsg="You must capture the GPS" nodeset="/data/c_gps" required="true()" type="geopoint"/>
      <bind nodeset="/data/c_deworming_last_year" required="true()" type="select1"/>
      <bind nodeset="/data/c_deworming_place" relevant=" /data/c_deworming_last_year  = &quot;Yes&quot;" required="true()" type="select1"/>
      <bind nodeset="/data/c_ivm_last_year" required="true()" type="select1"/>
      <bind nodeset="/data/c_bednet_last_year" required="true()" type="select1"/>
      <bind nodeset="/data/c_bednet_receiver" relevant=" /data/c_bednet_last_year  = &quot;Yes&quot;" required="true()" type="select1"/>
      <bind nodeset="/data/c_is_cdti" required="true()" type="select1"/>
      <bind nodeset="/data/know_eye_worm" required="true()" type="select1"/>
      <bind nodeset="/data/eye_worm_name" relevant=" /data/know_eye_worm  = &quot;Yes&quot;" required="false()" type="text"/>
      <bind nodeset="/data/c_remarks" required="false()" type="text"/>
      <bind nodeset="/data/c_StartTime" type="dateTime" jr:preload="timestamp" jr:preloadParams="start"/>
      <bind nodeset="/data/c_EndTime" type="dateTime" jr:preload="timestamp" jr:preloadParams="end"/>
      <bind calculate="concat('uuid:', uuid())" nodeset="/data/meta/instanceID" readonly="true()" type="string"/>
    </model>
  </h:head>
  <h:body>
    <input ref="/data/c_recorder_id">
      <label ref="jr:itext('/data/c_recorder_id:label')"/>
      <hint>2 digit code assigned to you</hint>
    </input>
    <select1 ref="/data/c_region">
      <label ref="jr:itext('/data/c_region:label')"/>
      <item>
        <label ref="jr:itext('/data/c_region/Region_1:label')"/>
        <value>Region 1</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_region/Region_2:label')"/>
        <value>Region 2</value>
      </item>      
    </select1>
    <select1 ref="/data/c_district">
      <label ref="jr:itext('/data/c_district:label')"/>
      <itemset nodeset="instance('districts')/root/item[ /data/c_region=region]">
        <value ref="name"/>
        <label ref="jr:itext(itextId)"/>
      </itemset>
    </select1>
    <input ref="/data/c_village_id">
      <label ref="jr:itext('/data/c_village_id:label')"/>
      <hint>3 digit code assigned to this village</hint>
    </input>
    <input ref="/data/c_total_population">
      <label ref="jr:itext('/data/c_total_population:label')"/>
    </input>
    <input ref="/data/c_gps">
      <label ref="jr:itext('/data/c_gps:label')"/>
      <hint>Works best outside of buildings</hint>
    </input>
    <select1 ref="/data/c_deworming_last_year">
      <label ref="jr:itext('/data/c_deworming_last_year:label')"/>
      <item>
        <label ref="jr:itext('/data/c_deworming_last_year/Yes:label')"/>
        <value>Yes</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_deworming_last_year/No:label')"/>
        <value>No</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_deworming_last_year/Do_not_know:label')"/>
        <value>Do_not_know</value>
      </item>
    </select1>
    <select1 ref="/data/c_deworming_place">
      <label ref="jr:itext('/data/c_deworming_place:label')"/>
      <item>
        <label ref="jr:itext('/data/c_deworming_place/1_School_only:label')"/>
        <value>1_School_only</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_deworming_place/2_Entire_community:label')"/>
        <value>2_Entire_community</value>
      </item>
    </select1>
    <select1 ref="/data/c_ivm_last_year">
      <label ref="jr:itext('/data/c_ivm_last_year:label')"/>
      <item>
        <label ref="jr:itext('/data/c_ivm_last_year/Yes:label')"/>
        <value>Yes</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_ivm_last_year/No:label')"/>
        <value>No</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_ivm_last_year/Do_not_know:label')"/>
        <value>Do_not_know</value>
      </item>
    </select1>
    <select1 ref="/data/c_bednet_last_year">
      <label ref="jr:itext('/data/c_bednet_last_year:label')"/>
      <item>
        <label ref="jr:itext('/data/c_bednet_last_year/Yes:label')"/>
        <value>Yes</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_bednet_last_year/No:label')"/>
        <value>No</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_bednet_last_year/Do_not_know:label')"/>
        <value>Do_not_know</value>
      </item>
    </select1>
    <select1 ref="/data/c_bednet_receiver">
      <label ref="jr:itext('/data/c_bednet_receiver:label')"/>
      <item>
        <label ref="jr:itext('/data/c_bednet_receiver/1_Pregnant_women_and_preschool_children_only:label')"/>
        <value>1_Pregnant_women_and_preschool_children_only</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_bednet_receiver/2_Entire_community:label')"/>
        <value>2_Entire_community</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_bednet_receiver/3_Other:label')"/>
        <value>3_Other</value>
      </item>
    </select1>
    <select1 ref="/data/c_is_cdti">
      <label ref="jr:itext('/data/c_is_cdti:label')"/>
      <item>
        <label ref="jr:itext('/data/c_is_cdti/Yes:label')"/>
        <value>Yes</value>
      </item>
      <item>
        <label ref="jr:itext('/data/c_is_cdti/No:label')"/>
        <value>No</value>
      </item>
    </select1>
    <select1 ref="/data/know_eye_worm">
      <label ref="jr:itext('/data/know_eye_worm:label')"/>
      <item>
        <label ref="jr:itext('/data/know_eye_worm/Yes:label')"/>
        <value>Yes</value>
      </item>
      <item>
        <label ref="jr:itext('/data/know_eye_worm/No:label')"/>
        <value>No</value>
      </item>
    </select1>
    <input ref="/data/eye_worm_name">
      <label ref="jr:itext('/data/eye_worm_name:label')"/>
    </input>
    <input ref="/data/c_remarks">
      <label ref="jr:itext('/data/c_remarks:label')"/>
    </input>
  </h:body>
</h:html>
